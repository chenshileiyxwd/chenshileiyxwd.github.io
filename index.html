<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <link rel="alternate" href="/atom.xml" title="阿磊的博客" type="application/atom+xml">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '',
    exturl: false,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: 'Copy',
      copy_success: 'Copied',
      copy_failure: 'Copy failed'
    },
    sidebarPadding: 40
  };
</script>

  <meta name="description" content="在这里分享各种java面试技巧与学习心得">
<meta property="og:type" content="website">
<meta property="og:title" content="阿磊的博客">
<meta property="og:url" content="familytree.group&#x2F;index.html">
<meta property="og:site_name" content="阿磊的博客">
<meta property="og:description" content="在这里分享各种java面试技巧与学习心得">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="familytree.group/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false,
    isPage: false,
    isArchive: false
  };
</script>

  <title>阿磊的博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">阿磊的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>About</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="familytree.group/2019/11/18/msql-index/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Larry Chen">
      <meta itemprop="description" content="在这里分享各种java面试技巧与学习心得">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="阿磊的博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/11/18/msql-index/" class="post-title-link" itemprop="url">msql索引原理</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2019-11-18 10:45:21 / Modified: 14:48:20" itemprop="dateCreated datePublished" datetime="2019-11-18T10:45:21+08:00">2019-11-18</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>一、介绍<br>1.什么是索引？<br>一般的应用系统，读写比例在10:1左右，而且插入操作和一般的更新操作很少出现性能问题，在生产环境中，我们遇到最多的，也是最容易出问题的，还是一些复杂的查询操作，因此对查询语句的优化显然是重中之重。说起加速查询，就不得不提到索引了。<br>2.为什么要有索引呢？<br>索引在MySQL中也叫做“键”，是存储引擎用于快速找到记录的一种数据结构。索引对于良好的性能<br>非常关键，尤其是当表中的数据量越来越大时，索引对于性能的影响愈发重要。<br>索引优化应该是对查询性能优化最有效的手段了。索引能够轻易将查询性能提高好几个数量级。<br>索引相当于字典的音序表，如果要查某个字，如果不使用音序表，则需要从几百页中逐页去查。<br>二、索引的原理<br>一 索引原理<br>索引的目的在于提高查询效率，与我们查阅图书所用的目录是一个道理：先定位到章，然后定位到该章下的一个小节，然后找到页数。相似的例子还有：查字典，查火车车次，飞机航班等<br>本质都是：通过不断地缩小想要获取数据的范围来筛选出最终想要的结果，同时把随机的事件变成顺序的事件，也就是说，有了这种索引机制，我们可以总是用同一种查找方式来锁定数据。<br>数据库也是一样，但显然要复杂的多，因为不仅面临着等值查询，还有范围查询(&gt;、&lt;、between、in)、模糊查询(like)、并集查询(or)等等。数据库应该选择怎么样的方式来应对所有的问题呢？我们回想字典的例子，能不能把数据分成段，然后分段查询呢？最简单的如果1000条数据，1到100分成第一段，101到200分成第二段，201到300分成第三段……这样查第250条数据，只要找第三段就可以了，一下子去除了90%的无效数据。但如果是1千万的记录呢，分成几段比较好？稍有算法基础的同学会想到搜索树，其平均复杂度是lgN，具有不错的查询性能。但这里我们忽略了一个关键的问题，复杂度模型是基于每次相同的操作成本来考虑的。而数据库实现比较复杂，一方面数据是保存在磁盘上的，另外一方面为了提高性能，每次又可以把部分数据读入内存来计算，因为我们知道访问磁盘的成本大概是访问内存的十万倍左右，所以简单的搜索树难以满足复杂的应用场景。<br> 二 磁盘IO与预读<br>考虑到磁盘IO是非常高昂的操作，计算机操作系统做了一些优化，当一次IO时，不光把当前磁盘地址的数据，而是把相邻的数据也都读取到内存缓冲区内，因为局部预读性原理告诉我们，当计算机访问一个地址的数据的时候，与其相邻的数据也会很快被访问到。每一次IO读取的数据我们称之为一页(page)。具体一页有多大数据跟操作系统有关，一般为4k或8k，也就是我们读取一页内的数据时候，实际上才发生了一次IO，这个理论对于索引的数据结构设计非常有帮助。<br>三、索引的数据结构<br>任何一种数据结构都不是凭空产生的，一定会有它的背景和使用场景，我们现在总结一下，我们需要这种数据结构能够做些什么，其实很简单，那就是：每次查找数据时把磁盘IO次数控制在一个很小的数量级，最好是常数数量级。那么我们就想到如果一个高度可控的多路搜索树是否能满足需求呢？就这样，b+树应运而生。<br><img src="/18/msql-index/1184802-20170912211249219-1576835998.png" alt="pic1"><br>如上图，是一颗b+树，关于b+树的定义可以参见B+树，这里只说一些重点，浅蓝色的块我们称之为一个磁盘块，可以看到每个磁盘块包含几个数据项（深蓝色所示）和指针（黄色所示），如磁盘块1包含数据项17和35，包含指针P1、P2、P3，P1表示小于17的磁盘块，P2表示在17和35之间的磁盘块，P3表示大于35的磁盘块。真实的数据存在于叶子节点即3、5、9、10、13、15、28、29、36、60、75、79、90、99。非叶子节点只不存储真实的数据，只存储指引搜索方向的数据项，如17、35并不真实存在于数据表中。<br>###b+树的查找过程<br>如图所示，如果要查找数据项29，那么首先会把磁盘块1由磁盘加载到内存，此时发生一次IO，在内存中用二分查找确定29在17和35之间，锁定磁盘块1的P2指针，内存时间因为非常短（相比磁盘的IO）可以忽略不计，通过磁盘块1的P2指针的磁盘地址把磁盘块3由磁盘加载到内存，发生第二次IO，29在26和30之间，锁定磁盘块3的P2指针，通过指针加载磁盘块8到内存，发生第三次IO，同时内存中做二分查找找到29，结束查询，总计三次IO。真实的情况是，3层的b+树可以表示上百万的数据，如果上百万的数据查找只需要三次IO，性能提高将是巨大的，如果没有索引，每个数据项都要发生一次IO，那么总共需要百万次的IO，显然成本非常非常高。<br>###b+树性质<br>1.索引字段要尽量的小：通过上面的分析，我们知道IO次数取决于b+数的高度h，假设当前数据表的数据为N，每个磁盘块的数据项的数量是m，则有h=㏒(m+1)N，当数据量N一定的情况下，m越大，h越小；而m = 磁盘块的大小 / 数据项的大小，磁盘块的大小也就是一个数据页的大小，是固定的，如果数据项占的空间越小，数据项的数量越多，树的高度越低。这就是为什么每个数据项，即索引字段要尽量的小，比如int占4字节，要比bigint8字节少一半。这也是为什么b+树要求把真实的数据放到叶子节点而不是内层节点，一旦放到内层节点，磁盘块的数据项会大幅度下降，导致树增高。当数据项等于1时将会退化成线性表。<br>2.索引的最左匹配特性（即从左往右匹配）：当b+树的数据项是复合的数据结构，比如(name,age,sex)的时候，b+数是按照从左到右的顺序来建立搜索树的，比如当(张三,20,F)这样的数据来检索的时候，b+树会优先比较name来确定下一步的所搜方向，如果name相同再依次比较age和sex，最后得到检索的数据；但当(20,F)这样的没有name的数据来的时候，b+树就不知道下一步该查哪个节点，因为建立搜索树的时候name就是第一个比较因子，必须要先根据name来搜索才能知道下一步去哪里查询。比如当(张三,F)这样的数据来检索时，b+树可以用name来指定搜索方向，但下一个字段age的缺失，所以只能把名字等于张三的数据都找到，然后再匹配性别是F的数据了， 这个是非常重要的性质，即索引的最左匹配特性。<br>四、Mysql索引管理<br>一、功能<br>#1. 索引的功能就是加速查找<br>#2. mysql中的primary key，unique，联合唯一也都是索引，这些索引除了加速查找以外，还有约束的功能<br>二、MySQL的索引分类<br>索引分类<br>1.普通索引index :加速查找<br>2.唯一索引<br>    主键索引：primary key ：加速查找+约束（不为空且唯一）<br>    唯一索引：unique：加速查找+约束 （唯一）<br>3.联合索引<br>    -primary key(id,name):联合主键索引<br>    -unique(id,name):联合唯一索引<br>    -index(id,name):联合普通索引<br>4.全文索引fulltext :用于搜索很长一篇文章的时候，效果最好。<br>5.空间索引spatial :了解就好，几乎不用<br>举个例子来说，比如你在为某商场做一个会员卡的系统。</p>
<p>这个系统有一个会员表<br>有下列字段：<br>会员编号 INT<br>会员姓名 VARCHAR(10)<br>会员身份证号码 VARCHAR(18)<br>会员电话 VARCHAR(10)<br>会员住址 VARCHAR(50)<br>会员备注信息 TEXT</p>
<p>那么这个 会员编号，作为主键，使用 PRIMARY<br>会员姓名 如果要建索引的话，那么就是普通的 INDEX<br>会员身份证号码 如果要建索引的话，那么可以选择 UNIQUE （唯一的，不允许重复）</p>
<p>#除此之外还有全文索引，即FULLTEXT<br>会员备注信息 ， 如果需要建索引的话，可以选择全文搜索。<br>用于搜索很长一篇文章的时候，效果最好。<br>用在比较短的文本，如果就一两行字的，普通的 INDEX 也可以。<br>但其实对于全文搜索，我们并不会使用MySQL自带的该索引，而是会选择第三方软件如Sphinx，专门来做全文搜索。</p>
<p>#其他的如空间索引SPATIAL，了解即可，几乎不用</p>
<p>各个索引的应用场景<br>三、 索引的两大类型hash与btree<br>#我们可以在创建上述索引的时候，为其指定索引类型，分两类<br>hash类型的索引：查询单条快，范围查询慢<br>btree类型的索引：b+树，层数越多，数据量指数级增长（我们就用它，因为innodb默认支持它）</p>
<p>#不同的存储引擎支持的索引类型也不一样<br>InnoDB 支持事务，支持行级别锁定，支持 B-tree、Full-text 等索引，不支持 Hash 索引；<br>MyISAM 不支持事务，支持表级别锁定，支持 B-tree、Full-text 等索引，不支持 Hash 索引；<br>Memory 不支持事务，支持表级别锁定，支持 B-tree、Hash 等索引，不支持 Full-text 索引；<br>NDB 支持事务，支持行级别锁定，支持 Hash 索引，不支持 B-tree、Full-text 等索引；<br>Archive 不支持事务，支持表级别锁定，不支持 B-tree、Hash、Full-text 等索引；<br>四、创建/删除索引的语法<br>#方法一：创建表时<br>    　　CREATE TABLE 表名 (<br>                字段名1  数据类型 [完整性约束条件…],<br>                字段名2  数据类型 [完整性约束条件…],<br>                [UNIQUE | FULLTEXT | SPATIAL ]   INDEX | KEY<br>                [索引名]  (字段名[(长度)]  [ASC |DESC])<br>                );</p>
<p>#方法二：CREATE在已存在的表上创建索引<br>        CREATE  [UNIQUE | FULLTEXT | SPATIAL ]  INDEX  索引名<br>                     ON 表名 (字段名[(长度)]  [ASC |DESC]) ;</p>
<p>#方法三：ALTER TABLE在已存在的表上创建索引<br>        ALTER TABLE 表名 ADD  [UNIQUE | FULLTEXT | SPATIAL ] INDEX<br>                             索引名 (字段名[(长度)]  [ASC |DESC]) ;</p>
<p>#删除索引：DROP INDEX 索引名 ON 表名字;</p>
<p>创建/删除索引的语法<br>善用帮助文档<br>help create<br>help create index<br>==================<br>1.创建索引<br>    -在创建表时就创建（需要注意的几点）<br>    create table s1(<br>    id int ,#可以在这加primary key<br>    #id int index #不可以这样加索引，因为index只是索引，没有约束一说，<br>    #不能像主键，还有唯一约束一样，在定义字段的时候加索引<br>    name char(20),<br>    age int,<br>    email varchar(30)<br>    #primary key(id) #也可以在这加<br>    index(id) #可以这样加<br>    );<br>    -在创建表后在创建<br>    create index name on s1(name); #添加普通索引<br>    create unique age on s1(age);添加唯一索引<br>    alter table s1 add primary key(id); #添加住建索引，也就是给id字段增加一个主键约束<br>    create index name on s1(id,name); #添加普通联合索引<br>2.删除索引<br>    drop index id on s1;<br>    drop index name on s1; #删除普通索引<br>    drop index age on s1; #删除唯一索引，就和普通索引一样，不用在index前加unique来删，直接就可以删了<br>    alter table s1 drop primary key; #删除主键(因为它添加的时候是按照alter来增加的，那么我们也用alter来删)<br>    帮助查看<br>    <img src="/18/msql-index/1184802-20170912213024735-866107108.png" alt="pic2"><br>    <img src="/18/msql-index/1184802-20170912212841078-1237114485.png" alt="pic3"><br>    五、测试索引<br>    1、准备<br>    #1. 准备表<br>    create table s1(<br>    id int,<br>    name varchar(20),<br>    gender char(6),<br>    email varchar(50)<br>    );</p>
<pre><code>#2. 创建存储过程，实现批量插入记录
delimiter $$ #声明存储过程的结束符号为$$
create procedure auto_insert1()
BEGIN
    declare i int default 1;
    while(i&lt;3000000)do
        insert into s1 values(i,concat(&apos;egon&apos;,i),&apos;male&apos;,concat(&apos;egon&apos;,i,&apos;@oldboy&apos;));
        set i=i+1;
    end while;
END$$ #$$结束
delimiter ; #重新声明分号为结束符号

#3. 查看存储过程
show create procedure auto_insert1\G 

#4. 调用存储过程
call auto_insert1();</code></pre><p> 2 、在没有索引的前提下测试查询速度<br>    #无索引：从头到尾扫描一遍，所以查询速度很慢<br>    mysql&gt; select * from s1 where id=333;<br>    +——+———+——–+—————-+<br>    | id   | name    | gender | email          |<br>    +——+———+——–+—————-+<br>    |  333 | egon333 | male   | <a href="mailto:333@oldboy.com" target="_blank" rel="noopener">333@oldboy.com</a> |<br>    |  333 | egon333 | f      | alex333@oldboy |<br>    |  333 | egon333 | f      | alex333@oldboy |<br>    +——+———+——–+—————-+<br>    rows in set (0.32 sec)</p>
<pre><code>mysql&gt; select * from s1 where email=&apos;egon333@oldboy&apos;;
....
... rows in set (0.36 sec)

3、 加上索引
#1. 一定是为搜索条件的字段创建索引，比如select * from t1 where age &gt; 5;就需要为age加上索引

#2. 在表中已经有大量数据的情况下，建索引会很慢，且占用硬盘空间，插入删除更新都很慢，只有查询快
比如create index idx on s1(id);会扫描表中所有的数据，然后以id为数据项，创建索引结构，存放于硬盘的表中。
建完以后，再查询就会很快了

#3. 需要注意的是：innodb表的索引会存放于s1.ibd文件中，而myisam表的索引则会有单独的索引文件table1.MYI</code></pre><p><img src="/18/msql-index/1184802-20170912214329375-1453229056.png" alt="pic4"></p>
<p>六、正确使用索引<br>一、覆盖索引<br>   #分析<br>select * from s1 where id=123;<br>该sql命中了索引，但未覆盖索引。<br>利用id=123到索引的数据结构中定位到该id在硬盘中的位置，或者说再数据表中的位置。<br>但是我们select的字段为*，除了id以外还需要其他字段，这就意味着，我们通过索引结构取到id还不够，<br>还需要利用该id再去找到该id所在行的其他字段值，这是需要时间的，很明显，如果我们只select id，<br>就减去了这份苦恼，如下<br>select id from s1 where id=123;<br>这条就是覆盖索引了，命中索引，且从索引的数据结构直接就取到了id在硬盘的地址，速度很快<br><img src="/18/msql-index/1184802-20170912214643547-1094772770.png" alt="pic5"><br>二、联合索引<br><img src="/18/msql-index/1184802-20170912214652782-1000358771.png" alt="pic5"><br>三、索引合并<br>#索引合并：把多个单列索引合并使用</p>
<p>#分析：<br>组合索引能做到的事情，我们都可以用索引合并去解决，比如<br>create index ne on s1(name,email);#组合索引<br>我们完全可以单独为name和email创建索引</p>
<p>组合索引可以命中：<br>select * from s1 where name=’egon’ ;<br>select * from s1 where name=’egon’ and email=’adf’;</p>
<p>索引合并可以命中：<br>select * from s1 where name=’egon’ ;<br>select * from s1 where email=’adf’;<br>select * from s1 where name=’egon’ and email=’adf’;</p>
<p>乍一看好像索引合并更好了：可以命中更多的情况，但其实要分情况去看，如果是name=’egon’ and email=’adf’,<br>那么组合索引的效率要高于索引合并，如果是单条件查，那么还是用索引合并比较合理<br><img src="/18/msql-index/1184802-20170912215426922-1260754280.png" alt="pic6"><br>三 若想利用索引达到预想的提高查询速度的效果，我们在添加索引时，必须遵循以下原则<br>#1.最左前缀匹配原则，非常重要的原则，<br>create index ix_name_email on s1(name,email,)</p>
<ul>
<li>最左前缀匹配：必须按照从左到右的顺序匹配<br>select * from s1 where name=’egon’; #可以<br>select * from s1 where name=’egon’ and email=’asdf’; #可以<br>select * from s1 where email=’alex@oldboy.com’; #不可以<br>mysql会一直向右匹配直到遇到范围查询(&gt;、&lt;、between、like)就停止匹配，<br>比如a = 1 and b = 2 and c &gt; 3 and d = 4 如果建立(a,b,c,d)顺序的索引，<br>d是用不到索引的，如果建立(a,b,d,c)的索引则都可以用到，a,b,d的顺序可以任意调整。</li>
</ul>
<p>#2.=和in可以乱序，比如a = 1 and b = 2 and c = 3 建立(a,b,c)索引可以任意顺序，mysql的查询优化器<br>会帮你优化成索引可以识别的形式</p>
<p>#3.尽量选择区分度高的列作为索引,区分度的公式是count(distinct col)/count(*)，<br>表示字段不重复的比例，比例越大我们扫描的记录数越少，唯一键的区分度是1，而一些状态、<br>性别字段可能在大数据面前区分度就是0，那可能有人会问，这个比例有什么经验值吗？使用场景不同，<br>这个值也很难确定，一般需要join的字段我们都要求是0.1以上，即平均1条扫描10条记录</p>
<p>#4.索引列不能参与计算，保持列“干净”，比如from_unixtime(create_time) = ’2014-05-29’<br>就不能使用到索引，原因很简单，b+树中存的都是数据表中的字段值，<br>但进行检索时，需要把所有元素都应用函数才能比较，显然成本太大。<br>所以语句应该写成create_time = unix_timestamp(’2014-05-29’);<br>mysql&gt; select * from s1 where id&gt;3 and name=’egon’ and email=’alex333@oldboy.com’ and gender=’male’;<br>Empty set (0.39 sec)</p>
<p>mysql&gt; create index idx on s1(id,name,email,gender); #未遵循最左前缀<br>Query OK, 0 rows affected (15.27 sec)<br>Records: 0  Duplicates: 0  Warnings: 0</p>
<p>mysql&gt; select * from s1 where id&gt;3 and name=’egon’ and email=’alex333@oldboy.com’ and gender=’male’;<br>Empty set (0.43 sec)</p>
<p>mysql&gt; drop index idx on s1;<br>Query OK, 0 rows affected (0.16 sec)<br>Records: 0  Duplicates: 0  Warnings: 0</p>
<p>mysql&gt; create index idx on s1(name,email,gender,id); #遵循最左前缀<br>Query OK, 0 rows affected (15.97 sec)<br>Records: 0  Duplicates: 0  Warnings: 0</p>
<p>mysql&gt; select * from s1 where id&gt;3 and name=’egon’ and email=’alex333@oldboy.com’ and gender=’male’;<br>Empty set (0.03 sec)<br>6. 最左前缀匹配<br>index(id,age,email,name)<br>#条件中一定要出现id(只要出现id就会提升速度)<br>id<br>id age<br>id email<br>id name</p>
<p>email #不行  如果单独这个开头就不能提升速度了<br>mysql&gt; select count(<em>) from s1 where id=3000;<br>+———-+<br>| count(</em>) |<br>+———-+<br>|        1 |<br>+———-+<br>1 row in set (0.11 sec)</p>
<p>mysql&gt; create index xxx on s1(id,name,age,email);<br>Query OK, 0 rows affected (6.44 sec)<br>Records: 0  Duplicates: 0  Warnings: 0</p>
<p>mysql&gt;  select count(<em>) from s1 where id=3000;<br>+———-+<br>| count(</em>) |<br>+———-+<br>|        1 |<br>+———-+<br>1 row in set (0.00 sec)</p>
<p>mysql&gt;  select count(<em>) from s1 where name=’egon’;<br>+———-+<br>| count(</em>) |<br>+———-+<br>|   299999 |<br>+———-+<br>1 row in set (0.16 sec)</p>
<p>mysql&gt;  select count(<em>) from s1 where email=’egon3333@oldboy.com’;<br>+———-+<br>| count(</em>) |<br>+———-+<br>|        1 |<br>+———-+<br>1 row in set (0.15 sec)</p>
<p>mysql&gt;  select count(<em>) from s1 where id=1000 and email=’egon3333@oldboy.com’;<br>+———-+<br>| count(</em>) |<br>+———-+<br>|        0 |<br>+———-+<br>1 row in set (0.00 sec)</p>
<p>mysql&gt;  select count(<em>) from s1 where email=’egon3333@oldboy.com’ and id=3000;<br>+———-+<br>| count(</em>) |<br>+———-+<br>|        0 |<br>+———-+<br>1 row in set (0.00 sec)</p>
<p>建联合索引，最左匹配</p>
<p>索引无法命中的情况需要注意：</p>
<ul>
<li>like ‘%xx’<br>  select * from tb1 where email like ‘%cn’;</li>
</ul>
<ul>
<li>使用函数<br>  select * from tb1 where reverse(email) = ‘wupeiqi’;</li>
</ul>
<ul>
<li>or<br>  select * from tb1 where nid = 1 or name = ‘seven@live.com’;</li>
</ul>
<pre><code>特别的：当or条件中有未建立索引的列才失效，以下会走索引
        select * from tb1 where nid = 1 or name = &apos;seven&apos;;
        select * from tb1 where nid = 1 or name = &apos;seven@live.com&apos; and email = &apos;alex&apos;</code></pre><ul>
<li>类型不一致<br>  如果列是字符串类型，传入条件是必须用引号引起来，不然…<br>  select * from tb1 where email = 999;</li>
</ul>
<p>普通索引的不等于不会走索引</p>
<ul>
<li><p>!=<br>  select * from tb1 where email != ‘alex’</p>
<p>  特别的：如果是主键，则还是会走索引</p>
<pre><code>select * from tb1 where nid != 123</code></pre></li>
<li><blockquote>
</blockquote>
<p>  select * from tb1 where email &gt; ‘alex’</p>
</li>
</ul>
<pre><code>特别的：如果是主键或索引是整数类型，则还是会走索引
    select * from tb1 where nid &gt; 123
    select * from tb1 where num &gt; 123</code></pre><p>#排序条件为索引，则select字段必须也是索引字段，否则无法命中</p>
<ul>
<li><p>order by<br>  select name from s1 order by email desc;<br>  当根据索引排序时候，select查询的字段如果不是索引，则不走索引<br>  select email from s1 order by email desc;<br>  特别的：如果对主键排序，则还是走索引：</p>
<pre><code>select * from tb1 order by nid desc;</code></pre></li>
<li><p>组合索引最左前缀<br>  如果组合索引为：(name,email)<br>  name and email       – 使用索引<br>  name                 – 使用索引<br>  email                – 不使用索引</p>
</li>
</ul>
<ul>
<li><p>count(1)或count(列)代替count(*)在mysql中没有差别了</p>
</li>
<li><p>create index xxxx  on tb(title(19)) #text类型，必须制定长度</p>
</li>
<li><p>避免使用select *</p>
</li>
<li><p>count(1)或count(列) 代替 count(*)</p>
</li>
<li><p>创建表时尽量时 char 代替 varchar</p>
</li>
<li><p>表的字段顺序固定长度的字段优先</p>
</li>
<li><p>组合索引代替多个单列索引（经常使用多个条件查询时）</p>
</li>
<li><p>尽量使用短索引</p>
</li>
<li><p>使用连接（JOIN）来代替子查询(Sub-Queries)</p>
</li>
<li><p>连表时注意条件类型需一致</p>
</li>
<li><p>索引散列值（重复少）不适合建索引，例：性别不适合</p>
</li>
</ul>
<p><img src="/18/msql-index/1184802-20170912233709188-557973567.png" alt="pic8"><br>七、慢查询优化的基本步骤<br>0.先运行看看是否真的很慢，注意设置SQL_NO_CACHE<br>1.where条件单表查，锁定最小返回记录表。这句话的意思是把查询语句的where都应用到表中返回的记录数最小的表开始查起，单表每个字段分别查询，看哪个字段的区分度最高<br>2.explain查看执行计划，是否与1预期一致（从锁定记录较少的表开始查询）<br>3.order by limit 形式的sql语句让排序的表优先查<br>4.了解业务方使用场景<br>5.加索引时参照建索引的几大原则<br>6.观察结果，不符合预期继续从0分析</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="familytree.group/2019/11/16/htmlVSmarkdown/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Larry Chen">
      <meta itemprop="description" content="在这里分享各种java面试技巧与学习心得">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="阿磊的博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/11/16/htmlVSmarkdown/" class="post-title-link" itemprop="url">htmlVSmarkdown</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2019-11-16 13:43:34 / Modified: 13:44:08" itemprop="dateCreated datePublished" datetime="2019-11-16T13:43:34+08:00">2019-11-16</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Markdown is not a replacement for HTML, or even close to it. Its syntax is very small, corresponding only to a very small subset of HTML tags. The idea is not to create a syntax that makes it easier to insert HTML tags. In my opinion, HTML tags are already easy to insert. The idea for Markdown is to make it easy to read, write, and edit prose.HTML is a publishing format; Markdown is a writing format. Thus, Markdown’s formatting syntax only addresses issues that can be conveyed inplain text.</p>
<p>For any markup that is not covered by Markdown’s syntax, you simply use HTML itself. There’s no need to preface it or delimit it to indicate that you’re switching from Markdown to HTML; you just use the tags.</p>
<p>The only restrictions are that block-level HTML elements — e.g. <div>, <table>, <pre>, <p>, etc. —must be separated from surrounding content by blank lines, and the start and end tags of the block should not be indented withtabs or spaces. Markdown is smart enough not to add extra (unwanted) </p><p> tags around HTML block-level tags.</p>
<p>Daring Fireball创始人John Gruber关于Markdown的设计初衷的阐述可以看出，Markdown 是为了更简单方便地书写 HTML ，使我们更加专注于内容写作本身。<br>Markdown 提炼出日常记录行文所需的一套简单的格式标签集，使用纯文本符号标记即可进行快速排版，将我们从繁重的格式排版中解放出来，可作为日常笔记、速记的轻量级写作工具（Lightweight markup language）。<br>在 GitHub, Reddit, StackOverflow、JianShu 等一大批网站的影响下，Markdown在互联网上应用广泛，已经成为事实上的网络写作标准。例如，专为印象笔记（Evernote）打造的Markdown编辑器——马克飞象 ， 配合印象笔记强大的存储和同步功能，带来前所未有的书写体验；GitHub 上每个工程要求提供Markdown格式的README.md文件，作为项目首页的说明文档。<br>Markdown教程可参考《Markdown Tutorials》；Markdown编辑器可参考《Markdown Editors》。</p>
<p>Markdown差不多可以满足日常笔记、速记、写作以及撰写博客需求，若某些文字需要以富文本形式渲染，可以直接在 Markdown 中嵌入 HTML 。<br>本文在开源免费的 macdown 下编辑完成，梳理 markdown 和 HTML 对应标签及日常撰写博客时可能用到的 HTML 补充富文本实现。内容由 markdown + HTML 混排，只能先导出为 HTML 文件，再贴过来，有些格式损失。</p>
<p>1 HTML 注释：<!--...--><br>HTML 以&lt;!--开头，以--&gt;结尾的闭包定义注释，不在正文中显示。<br>下面这句注释你是看不到的：</p>
<p>2 markdown 空格<br>由于在markdown中空格大部分时候都是起着排版控制作用，因此没法在行首或格式控制符之后输入空格。<br>此时，可直接输入HTML entities中的空格占位符：</p>
<p>en space, U+2002 ISOpub<br>半方大的空白&ensp;或&#8194;<br>em space, U+2003 ISOpub<br>  全方大的空白&emsp;或&#8195;<br>no-break space = non-breaking space, U+00A0 ISOnum<br>    不断行的空白格&nbsp;或&#160;<br>一般行首输入两个全角空格（&emsp;）或四个半角空格（&nbsp;）进行缩进即可。</p>
<p>3 HTML 超链接<br>3.1 锚点：<a>...</a><br>定义和用法<br><a> 标签用来实现跳转到指定锚点(anchor)或超链接（hyperlink）。<br><a> 元素最重要的属性是 href 属性，它指示链接的目标，可以是页内锚点，也可以是另一个站点页面。</a></a></p>
<p>markdown对应标记</p>
<p>Inline超链<br>markdown采用<a href></a>来定义超链接，中括号内是超链接文字标题，小括号内是超链接地址：<a href="href">title</a>。我们称这种为Inline方式超链。<br>Reference超链<br>与页内锚点对应的另一种是Reference方式的索引超链：<br>两个中括号[title][anchor]，第二个中括号中定义页内锚点名称（索引）；然后在其他地方采用[anchor]:href的格式定义anchor实际指向的锚点位置（href）。<br>自动超链<br>用尖括号包裹url，这样生成的url锚文本就是url本身，例如博客、邮箱地址。<br>示例</p>
<p>页内锚点示例：<br>点我跳到本文结尾</p>
<p>最权威的 HTML 学习资料：<br>W3School HTML 参考手册</p>
<p>其他 HTML 学习参考资料：<br>HTML5 教程<br>HTML 教程<br>HTML 教程- (HTML5 标准)</p>
<p>个人博客和邮箱：<br><a href="http://blog.csdn.net/phunxm" target="_blank" rel="noopener">http://blog.csdn.net/phunxm</a><br><a href="mailto:challenge4fun@qq.com" target="_blank" rel="noopener">challenge4fun@qq.com</a></p>
<p>3.2 图片：<img><br>定义和用法<br>img 元素向网页中嵌入一幅图像。<br>请注意，从技术上讲，<img> 标签并不会在网页中插入图像，而是从网页上链接图像。<br><img> 标签创建的是被引用图像的占位空间。<br><img> 标签有两个必需的属性：src 属性 和 alt 属性。</p>
<p>属性    值    描述<br>alt    text    规定图像的替代文本。<br>src    URL    规定显示图像的 URL。<br>markdown对应标记<br>markdown插入图片与插入连接的语法很像，区别在一个!号。<br>markdown采用<img src alt>)来插入图片，中括号内是图片替代的文字，小括号内是图片地址：<img src="/16/htmlVSmarkdown/src" alt="alt">。</p>
<p>示例</p>
<p>4 HTML 标题：</p><h1> - <h6><br>定义和用法<br>标题（Heading）是通过 <h1> - <h6> 标签进行定义的。</h6></h1></h6></h1></pre></table></div></p>
<h1> 定义最大的标题，<h6> 定义最小的标题。
因为用户可以通过标题来快速浏览您的网页，所以用标题来呈现文档结构是很重要的，搜索引擎则使用标题为您的网页的结构和内容编制索引。
一般论文或博客文档结构到3级即可，可参考《毕业论文的国家标准格式与通用格式》、《发表论文通用格式》和《期刊论文格式》。

<p>markdown对应标记<br>markdown一行文字开头以#标记1级标题，以##标记2级标题，...，以######标记6级标题。</p>
<p>如果一行文字下面一行为三个或以上等号（===），则该行文字升级为1级标题（#）；<br>This is an H1<br>如果一行文字下面一行为三个或以上减号（---），则该行文字升级为2级标题（##）。<br>This is an H2<br>示例<br>以下是典型的HTML body内容文档结构：</p>
<p>title<br>1<br>1.1<br>1.1.1<br>（1）<br>（2）<br>*<br>1.1.2<br>（1）<br>（2）<br>*<br>2<br>2.1<br>2.1.1<br>（1）<br>*<br>5 HTML 文字格式<br>5.1 强调文本：<em>...</em><br>This text is emphasized</p>
<p>斜体：<i><br>定义和用法<br><i> 标签显示斜体文本效果。<br><i> 标签和基于内容的样式标签 <em> 类似。它告诉浏览器将包含其中的文本以斜体字（italic）或者倾斜（oblique）字体显示。如果这种斜体字对该浏览器不可用的话，可以使用高亮、反白或加下划线等样式。<br>示例<br>This text is italic<br>markdown对应标记<br>markdown中采用星号（*）或下划线（_）对包围的文字进行斜体化。<br>This text is italic<br>5.2 重要文本：<strong>...</strong><br>This text is strong</em></i></i></i></p>
<p>粗体：<b><br>定义和用法<br><b> 标签规定粗体文本。<br>示例<br>This text is bold<br>markdown对应标记<br>markdown中采用双星号（**）或双下划线（__）对包围的文字进行粗体化。<br>This text is bold<br>使用<b><i>嵌套（对应markdown三星号包围）可设置粗斜体：<br>This text is italic bold<br>5.3 突出显示文本：<mark>...</mark><br>This text is mark</i></b></b></b></p>
<p>5.4 改变字号<br>5.4.1 加大字号：<big>...</big><br>定义和用法<br><big> 标签呈现大<big>号字体效果，使用 <big> 标签可以很容易地放大字体。<br>浏览器显示包含在 <big> 标签和其相应的 </big> 标签之间的文字时，其字体比周围的文字要大一号。但是，如果文字已经是最大号字体，这个 <big> 标签将不起任何作用。<br>更妙的是，可以嵌套 <big> 标签来放大文本。每一个 <big> 标签都可以使字体大一号，直到上限 7 号文本。</big></big></big></big></big></big></p>
<p>示例<br>This text is normal.<br>This text is big.<br>This text is normal.</p>
<p>5.4.2 减小字号：<small>...</small><br>定义和用法<br><small> 标签呈现小号字体效果。<small> 标签和它所对应的 <big> 标签一样，但它是缩小字体而不是放大。<br>如果被包围的字体已经是字体模型所支持的最小字号，那么 <small> 标签将不起任何作用。<br>与 <big> 标签类似，<small> 标签也可以嵌套，从而连续地把文字缩小。每个 <small> 标签都把文本的字体变小一号，直到达到下限的一号字。</small></small></big></small></big></small></small></p>
<p>示例<br>This text is normal.<br>This text is small.<br>This text is normal.</p>
<p>5.5 脚标<br>5.5.1 上脚标：<sup>...</sup><br>指数幂示例：<br>20=1;<br>21=2;<br>22=4;<br>...</p>
<p>5.5.2 下脚标：<sub>...</sub><br>分步计数原理公式：<br>N=m1 x m1 x m1 x ... x mn</p>
<p>5.6 下划线：<u>...</u><br>定义和用法<br><u> 标签可定义下划线文本。</u></p>
<p>HTML 与 XHTML 之间的差异<br>在 HTML 4.01 中，u 元素是不被推荐使用的。<br>在 XHTML 1.0 Strict DTD 中，u 元素是不被支持的。<br>提示和注释：<br>注释：请尽量避免为文本加下划线 - 用户会把它混淆为一个超链接！<br>示例<br>This text is underline.</p>
<p>5.7 删除线：<del>...</del><br>定义和用法<br>定义文档中已被删除的文本。</p>
<p>提示和注释：注释：请与 <ins> 标签配合使用，来描述文档中的更新和修正。<br>示例</ins></p>
<p>一打有 二十 十二 件。</p>
<p>6 HTML 排版控制<br>6.1 HTML 水平线：<hr><br>定义和用法</p>
<hr> 标签在 HTML 页面中创建用于分隔内容的水平线，无需闭合。

<p>示例</p>
<p>HTML: 这段文字上下各有一条水平线（<hr>）分割。<br>markdown对应标记<br>markdown行若只有三个连续的星号（***）或下划线（___）则表示横线。</p>
<p>markdown: 这段文字上下各有一条水平线分割（上行***/下行___）。</p>
<p>注意<br>markdown中三个连续减号（---）上面一行如果是空行，则也绘制分割线；如果上面一行有文字，则上面一行升级为2级标题（##）。</p>
<p>6.2 HTML 换行：<br><br>定义和用法<br><br> 可插入一个简单的换行符。<br>标签是空标签，意味着它没有结束标签，因此这是错误的：<br><br>。<br>在 XHTML 中，把结束标签放在开始标签中，也就是 <br>。<br>请注意，<br> 标签只是简单地开始新的一行，而当浏览器遇到</p>
<p>标签时，通常会在相邻的段落之间插入一些垂直的间距。</p>
<p>markdown对应标记<br>markdown在文字末尾连续输入两个空格即可换行，否则默认和下一行连在一起。</p>
<p>示例</p>
<p>这是第一行.<br>这是第二行.<br>这是第三行.</p>
<p>6.3 HTML 段落：</p><p>...</p><br>定义和用法<p></p>
<p>标签定义段落。<br>p 元素会自动在其前后创建一些空白。浏览器会自动添加这些空间，您也可以在样式表中规定。</p>
<p>示例</p>
<p>我胯下的白马疾如闪电，那是远古的旷野。</p>
<p>我从你的眼前掠过，甚至你看不清我的容颜。<br>只有我背上银色的剑鞘，在阳光下瞬间闪耀的光芒。</p>
<p>我一定要在黄昏之前到达，我要看看你，我的爱人。<br>在夕阳里娇艳的容颜，和风铃响起时迎风曼舞的衣裙。</p>
<p>6.4 HTML 分区/节：<div>...</div><br>定义和用法</p>
<div> 可定义文档中的分区或节（division/section）。<div> 标签可以把文档分割为独立的、不同的部分。它可以用作严格的组织工具，并且不使用任何格式与其关联。
如果用 id 或 class 来标记 <div>，那么该标签的作用会变得更加有效。

<p>用法</p>
<div> 是一个块级元素。这意味着它的内容自动地开始一个新行。
实际上，换行是 <div> 固有的唯一格式表现。可以通过 <div> 的 class 或 id 应用额外的样式。

<p>示例<br>以下示范将三级标题着色为红色，内容段落着色为蓝色：</p>
<p>3.5.1 红色的标题<br>蓝色的文字</p>
<p>6.5 HTML 对齐：align属性<br>定义和用法<br>align 属性规定元素（</p><h1> - <h6>、<div>）的水平对齐方式。<p></p>
<p>浏览器支持<br>尽管不推荐使用 align 属性，但是所有浏览器都支持该属性。<br>兼容性注释<br>在 HTML 4.01 中，不推荐使用 </p><h1> - <h6> 元素的 align 属性；在 XHTML 1.0 Strict DTD 中，不支持 <h1> - <h6> 元素的 align 属性。请使用 CSS 代替。<br>CSS 语法：<h1 style="text-align:right"><br>这段文字居左显示。<br>这段文字居中显示。<br>这段文字居右显示。<br>7 HTML 引用<br>7.1 作品标题：<cite>...</cite><br>定义和用法<br><cite> 标签通常表示它所包含的文本对某个参考文献的引用，比如书籍或者杂志的标题。<br>按照惯例，引用的文本将以斜体显示。<br>用 <cite> 标签把指向其他文档的引用分离出来，尤其是分离那些传统媒体中的文档，如书籍、杂志、期刊，等等。如果引用的这些文档有联机版本，还应该把引用包括在一个 <a> 标签中，从而把一个超链接指向该联机版本。<p></p>
<p>示例</p>
<p>《富春山居图》由黄公望始画于至正七年(1347)，于至正十年完成。</p>
<p>7.2 短引用：<q>...</q><br>定义和用法<br><q> 标签定义不需要段落分隔的短引用（行内引用）。<br>浏览器经常在引用的内容周围添加引号。</q></p>
<p>示例<br>毛泽东说过：帝国主义都是纸老虎 ...</p>
<p>cite属性<br>q 元素中的 cite 属性指定了引用的来源，但主流浏览器均不支持 cite 属性，可以当做注释用：</p>
<p>Here is a quote from WWF's website:</p>
<p>WWF's ultimate goal is to build a future where people live in harmony with nature.</p>
<p>We hope that they succeed.</p>
<p>7.3 块引用：<blockquote>...</blockquote><br>定义和用法</p>
<blockquote> 标签定义摘自另一个源的块引用。<blockquote> 与 </blockquote> 之间的所有文本都会从常规文本中分离出来，经常会在左、右两边进行缩进，而且有时会使用斜体。也就是说，块引用拥有它们自己的空间。

<p>示例</p>
<p>爱上一个人<br>恋上一座城<br>cite属性<br>同 q 元素中的 cite 属性。</p>
<p>markdown对应标记<br>markdown中以>开始的文字为块引用：</p>
<p>//<br>// main.m<br>// HelloWorld<br>//<br>// Created by faner on 15/8/30.<br>// Copyright © 2015年 faner. All rights reserved.<br>//</p>
<p>#import</p>
<p>int main(int argc, const char * argv[]) {<br>@autoreleasepool {<br>// insert code here...<br>NSLog(@"Hello, World!");<br>}<br>return 0;<br>}</p>
<p>注意：</p>
<p>每行后面需要添加两个空格断行。<br>#号前面要加\转义。<br>直接复制过来的代码，行首的缩进格式丢失，需要自行补充空格占位符。故一般不建议使用blockquote（>）标签来引用源代码。<br>引用标记可以嵌套使用：</p>
<p>梦</p>
<p>梦中梦</p>
<p>盗梦空间</p>
<p><q> 与 <blockquote> 的区别<br><q> 标签在本质上与 <blockquote> 是一样的。不同之处在于它们的显示和应用。<q> 标签用于简短的行内引用。如果需要从周围内容分离出来比较长的部分（通常显示为缩进的块），请使用 <blockquote> 标签。</blockquote></q></blockquote></q></blockquote></q></p>
<p>7.4 代码块<br>以下是w3school中给出的“计算机输出”标签示例：</p>
<p>Computer code<br>Keyboard input<br>Teletype text<br>Sample text<br>Computer variable</p>
<p>注释：这些标签常用于显示计算机/编程代码。</p>
<p>7.4.1 代码块：<code>...</code><br>定义和用法<br><code> 标签通常只是把文本变成等宽字体，但它暗示着这段文本是源程序代码。<br>如果只是希望使用等宽字体的效果，请使用 <tt> 标签。<br>或者，如果想要在严格限制为等宽字体格式的文本中显示编程代码，请使用 <pre> 标签。</pre></tt></code></p>
<p>markdown对应标记<br>markdown对应<code>...</code>。</p>
<p>示例<br>心若没有栖息的地方<br>到哪里都是流浪</p>
<p>//<br>// main.m<br>// HelloWorld<br>//<br>// Created by faner on 15/8/30.<br>// Copyright © 2015年 faner. All rights reserved.<br>//</p>
<p>#import <Foundation foundation.h></Foundation></p>
<p>int main(int argc, const char * argv[]) {<br>@autoreleasepool {<br>// insert code here...<br>NSLog(@"Hello, World!");<br>}<br>return 0;<br>}</p>
<p>注意：</p>
<p>每行后面需要添加两个空格断行。<br>#号前面要加\转义；头文件包含的尖括号也需要加\转义。<br>markdown的<code>...</code>中间的两个空格断行无效：<br>心若没有栖息的地方 到哪里都是流浪<br>直接复制过来的代码，行首的缩进格式丢失，需要自行补充空格占位符。故一般也不建议使用code（``）标签来引用源代码。<br>7.4.2 代码块：<pre>...</pre><br>定义和用法<br>pre 元素可定义预格式化的文本。被包围在 pre 元素中的文本通常会保留空格和换行符。而文本也会呈现为等宽字体。</p>
<pre> 标签的一个常见应用就是用来表示计算机的源代码。
可以导致段落断开的标签（例如标题、<p> 和 <address> 标签）绝不能包含在 <pre> 所定义的块里。
pre 元素中允许的文本可以包括物理样式和基于内容的样式变化，还有链接、图像和水平分隔线。当把其他标签（比如 <a> 标签）放到 <pre> 块中时，就像放在 HTML/XHTML 文档的其他部分中一样即可。

提示和注释
提示：制表符（tab）在 <pre> 标签定义的块当中可以起到应有的作用，每个制表符占据 8 个字符的位置。但是我们不推荐使用它，因为在不同的浏览器中，Tab 的实现各不相同。在用 <pre> 标签格式化的文档段中使用空格，可以确保文本正确的水平位置。
提示：如果您希望使用 <pre> 标签来定义计算机源代码，比如 HTML 源代码，请使用符号实体来表示特殊字符，比如 "<" 代表 "<"，">" 代表 ">"，"&" 代表 "&"。
提示：在 W3School 中，非常多页面中的源代码实例都是通过 <pre> 标签定义的。

markdown对应标记
markdown行首输入四个连续空格即可实现<pre>对应的效果。

markdown行首输入四个空格的效果：

那一年 你正年轻
总觉得明天肯定会很美
以下是使用<pre>...</pre>引用代码块的示例：

<p>//<br>//  main.m<br>//  EmptyApplication<br>//<br>//  Created by faner on 15/9/5.<br>//  Copyright © 2015年 faner. All rights reserved.<br>//</p>
<p>#import<br>#import “AppDelegate.h”</p>
<p>int main(int argc, char * argv[]) {<br>    @autoreleasepool {<br>        return UIApplicationMain(argc, argv, nil, NSStringFromClass([AppDelegate class]));<br>    }<br>}<br>以上将Xcode中的main.m代码直接拷到标签中，保持了原有的段落和缩进格式。<br>如果要对代码进行语法着色，可采用在线SyntaxHighlighter插件，输入源程序代码，输出指定语言的着色 HTML 代码。<br>Online syntax highlighter like TextMate<br>Online syntax highlighting for the masses!</p>
<p>The End<br>————————————————<br>版权声明：本文为CSDN博主「弦苦」的原创文章，遵循 CC 4.0 BY-SA 版权协议，转载请附上原文出处链接及本声明。<br>原文链接：<a href="https://blog.csdn.net/phunxm/article/details/48575817" target="_blank" rel="noopener">https://blog.csdn.net/phunxm/article/details/48575817</a></p>
</pre></pre></"></pre></pre></pre></pre></a></pre></address></p></pre></blockquote></a></cite></cite></h1></h6></h1></h6></h1></div></h6></h1></div></div></div></div></div></div></h6></h1>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="familytree.group/2019/11/16/BTree/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Larry Chen">
      <meta itemprop="description" content="在这里分享各种java面试技巧与学习心得">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="阿磊的博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/11/16/BTree/" class="post-title-link" itemprop="url">B+索引树</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2019-11-16 11:59:40 / Modified: 13:40:35" itemprop="dateCreated datePublished" datetime="2019-11-16T11:59:40+08:00">2019-11-16</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <ul>
<li>测试图片是否能加载成功</li>
<li>kanakn </li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="familytree.group/2019/11/16/dra/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Larry Chen">
      <meta itemprop="description" content="在这里分享各种java面试技巧与学习心得">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="阿磊的博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/11/16/dra/" class="post-title-link" itemprop="url">dra</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-11-16 11:24:17" itemprop="dateCreated datePublished" datetime="2019-11-16T11:24:17+08:00">2019-11-16</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="familytree.group/2019/11/16/%E5%89%8D%E5%90%8E%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB7%E4%B8%AA%E7%BB%8F%E5%85%B8%E6%A1%88%E4%BE%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Larry Chen">
      <meta itemprop="description" content="在这里分享各种java面试技巧与学习心得">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="阿磊的博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/11/16/%E5%89%8D%E5%90%8E%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB7%E4%B8%AA%E7%BB%8F%E5%85%B8%E6%A1%88%E4%BE%8B/" class="post-title-link" itemprop="url">前后前后端分离7个经典案例</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2019-11-16 00:10:54 / Modified: 00:12:39" itemprop="dateCreated datePublished" datetime="2019-11-16T00:10:54+08:00">2019-11-16</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a href="https://zhuanlan.zhihu.com/p/82631714" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/82631714</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="familytree.group/2019/11/14/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Larry Chen">
      <meta itemprop="description" content="在这里分享各种java面试技巧与学习心得">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="阿磊的博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/11/14/hello-world/" class="post-title-link" itemprop="url">Hello World</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-11-14 20:35:43" itemprop="dateCreated datePublished" datetime="2019-11-14T20:35:43+08:00">2019-11-14</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="familytree.group/2019/11/13/hexo%E5%86%99%E4%BD%9C%E6%8C%87%E5%AF%BC/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Larry Chen">
      <meta itemprop="description" content="在这里分享各种java面试技巧与学习心得">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="阿磊的博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/11/13/hexo%E5%86%99%E4%BD%9C%E6%8C%87%E5%AF%BC/" class="post-title-link" itemprop="url">hexo写作指导</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-11-13 23:06:48" itemprop="dateCreated datePublished" datetime="2019-11-13T23:06:48+08:00">2019-11-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-11-15 00:05:39" itemprop="dateModified" datetime="2019-11-15T00:05:39+08:00">2019-11-15</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="https-hexo-bootcss-com-docs-writing-html"><a href="#https-hexo-bootcss-com-docs-writing-html" class="headerlink" title="https://hexo.bootcss.com/docs/writing.html"></a><a href="https://hexo.bootcss.com/docs/writing.html" target="_blank" rel="noopener">https://hexo.bootcss.com/docs/writing.html</a></h3><h4 id="有不会的一定要进去看看"><a href="#有不会的一定要进去看看" class="headerlink" title="有不会的一定要进去看看"></a>有不会的一定要进去看看</h4>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="familytree.group/2019/11/12/%E8%BD%AC%E8%BD%BDcsdn%E6%9C%80%E5%85%A8%E7%9A%84hexo%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Larry Chen">
      <meta itemprop="description" content="在这里分享各种java面试技巧与学习心得">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="阿磊的博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/11/12/%E8%BD%AC%E8%BD%BDcsdn%E6%9C%80%E5%85%A8%E7%9A%84hexo%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/" class="post-title-link" itemprop="url">转载csdn最全的hexo搭建教程</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2019-11-12 21:43:26 / Modified: 23:46:59" itemprop="dateCreated datePublished" datetime="2019-11-12T21:43:26+08:00">2019-11-12</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a href="https://blog.csdn.net/sinat_37781304/article/details/82729029" target="_blank" rel="noopener">https://blog.csdn.net/sinat_37781304/article/details/82729029</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  



          </div>
          

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Larry Chen</p>
  <div class="site-description" itemprop="description">在这里分享各种java面试技巧与学习心得</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">8</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="feed-link motion-element">
    <a href="/atom.xml" rel="alternate">
      <i class="fa fa-rss"></i>RSS
    </a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Larry Chen</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> v4.0.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://mist.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> v
  </div>

        












        
      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script>
<script src="/js/schemes/muse.js"></script>
<script src="/js/next-boot.js"></script>



  
















  

  

</body>
</html>
